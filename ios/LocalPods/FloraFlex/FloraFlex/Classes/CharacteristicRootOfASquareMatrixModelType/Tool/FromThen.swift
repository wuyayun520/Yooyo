
//: Declare String Begin

/*: "mf/moment/list" :*/
fileprivate let kStr_managerTitle:String = "mf/moheight value next class"
fileprivate let kStr_makeName:String = "lisindex"

/*: "mf/moment/moments" :*/
fileprivate let kStr_hiddenText:String = "status ofmf/m"
fileprivate let kStr_popData:String = "/momenpath progress"
fileprivate let kStr_selectPathText:[Character] = ["t","s"]

/*: "mf/moment/like" :*/
fileprivate let kStr_frameName:[Character] = ["m","f","/","m","o","m","e","n","t"]
fileprivate let kStr_touchName:[Character] = ["/","l","i","k","e"]

/*: "mf/crush/send" :*/
fileprivate let kStr_intimateValue:String = "mf/ctype file label send"

/*: "mf/moment/view" :*/
fileprivate let kStr_rawData:String = "color click reason equal pathmf/mo"
fileprivate let kStr_toName:String = "size down/view"

/*: "mf/momentReply/list" :*/
fileprivate let kStr_cameraName:String = "player frame path colormf/moment"
fileprivate let kStr_fileData:String = "begin deadline letReply/"

/*: "mf/momentReply/save" :*/
fileprivate let kStr_iconText:String = "mf/mon result"
fileprivate let kStr_upContent:String = "tReplyself gesture"
fileprivate let kStr_cellSuccessValue:String = "self background let make/save"

/*: "mf/moment/videoSign" :*/
fileprivate let kStr_burnData:String = "false height key view timemf/mo"
fileprivate let kStr_currentValue:String = "dhidden"
fileprivate let kStr_addValue:[Character] = ["o","S","i","g","n"]

/*: "dynamicPic.zip" :*/
fileprivate let kStr_cameraValue:String = "datana"
fileprivate let kStr_viewName:[Character] = ["m","i","c","P","i","c",".","z","i","p"]

/*: "pic" :*/
fileprivate let kStr_giftValue:[UInt8] = [0xdc,0xc5,0xcf]

/*: "content" :*/
fileprivate let kStr_lineSecondName:[Character] = ["c","o","n","t","e","n","t"]

/*: "mf/moment/save" :*/
fileprivate let kStr_tagText:[Character] = ["m","f","/","m","o","m"]
fileprivate let kStr_makeValue:String = "cell show listent/save"

/*: "Publish Successful, Go to My Dynamics to view" :*/
fileprivate let kStr_pushContent:[UInt8] = [0x3a,0x1f,0x8,0x6,0x3,0x19,0x2,0x4a,0x39,0x1f,0x9,0x9,0xf,0x19,0x19,0xc,0x1f,0x6,0x46,0x4a,0x2d,0x5,0x4a,0x1e,0x5,0x4a,0x27,0x13,0x4a,0x2e,0x13,0x4,0xb,0x7,0x3,0x9,0x19,0x4a,0x1e,0x5,0x4a,0x1c,0x3,0xf,0x1d]

/*: "mf/moment/saveVideo" :*/
fileprivate let kStr_addTitle:String = "mf/movar let to"
fileprivate let kStr_normalValue:[Character] = ["v","e","V","i","d","e","o"]

/*: .png" :*/
fileprivate let kStr_frameText:[Character] = [".","p","n","g"]

/*: "dynamicPic" :*/
fileprivate let kStr_toInfoAttributeName:String = "DYNA"
fileprivate let kStr_listContent:[Character] = ["i","c"]

/*: "freeImage" :*/
fileprivate let kStr_directTitle:String = "fraddadd"
fileprivate let kStr_voiceText:String = "color"

/*: "mf/momentReply/replylist" :*/
fileprivate let kStr_aModelName:String = "mf/mocontent path"
fileprivate let kStr_errorData:String = "eply/live leading"
fileprivate let kStr_fromData:String = "YLIST"

/*: "mf/moment/delete" :*/
fileprivate let kStr_data:[Character] = ["m","f","/","m","o","m","e","n","t","/","d","e","l","e","t","e"]

/*: "mf/momentReply/delete" :*/
fileprivate let kStr_lineData:String = "array temp sign sendmf/moment"
fileprivate let kStr_defineAddHalfValue:String = "Replcollection from current image let"

/*: "mf/moment/pin" :*/
fileprivate let kStr_removeValue:[Character] = ["m","f","/"]
fileprivate let kStr_imageEqualName:String = "mviewe"

/*: "mf/moment/remindNum" :*/
fileprivate let kStr_waitMakeTitle:String = "model image to style normalmf/mo"
fileprivate let kStr_dataValue:String = "size content left colorremindN"
fileprivate let kStr_modelTextContent:[Character] = ["u","m"]

/*: "mf/moment/remindList" :*/
fileprivate let kStr_nameVideoData:String = "view self backgroundmf/m"
fileprivate let kStr_originalData:String = "content path self left timemindList"

/*: "page" :*/
fileprivate let kStr_labData:[UInt8] = [0x65,0x67,0x61,0x70]

/*: "cos/getCredential" :*/
fileprivate let kStr_playData:[Character] = ["c","o","s","/","g","e"]
fileprivate let kStr_absName:[Character] = ["t","C","r","e","d","e"]
fileprivate let kStr_clickText:String = "ntiablock"

/*: "type" :*/
fileprivate let kStr_backgroundName:String = "filepe"

/*: "user/reportUserInfo" :*/
fileprivate let kStr_modeRawData:String = "screener"
fileprivate let kStr_equalSucceedValue:String = "rtUserequal normal to if model"

/*: "uid" :*/
fileprivate let kStr_actionToErrorName:String = "uview"

/*: "deviceId" :*/
fileprivate let kStr_atData:[Character] = ["d","e","v","i","c","e","I","d"]

/*: "deviceName" :*/
fileprivate let kStr_modeValue:String = "deviceNamto equal"
fileprivate let kStr_toColorTitle:[Character] = ["e"]

/*: "iphone" :*/
fileprivate let kStr_videoValue:String = "iphonname"

/*: "fileUrl" :*/
fileprivate let kStr_equalContent:String = "manager add component contentfileUrl"

//: Declare String End

// __DEBUG__
// __CLOSE_PRINT__
//
//  FromThen.swift
//  AbroadTalking
//
//  Created by Charlotte on 2022/9/19.
//

//: import Adjust
import Adjust
//: import UIKit
import UIKit

//: class TalkingMomentRequestTool: NSObject {
class FromThen: NSObject {
    //: let _fm = FileManager.default
    let _fm = FileManager.default

    /// 动态列表接口
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_MomentList(params: [String: Any], completion: @escaping FinishBlock) {
    class func fillFrom(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = SizeRequestModel()
        //: reqModel.requestPath = "mf/moment/list"
        reqModel.requestPath = (String(kStr_managerTitle.prefix(5)) + "ment/" + kStr_makeName.replacingOccurrences(of: "index", with: "t"))
        //: reqModel.params = params
        reqModel.params = params
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_firstName.afterFailureCompletion(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 用户动态接口
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_UserMomentList(params: [String: Any], completion: @escaping FinishBlock) {
    class func makeTo(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = SizeRequestModel()
        //: reqModel.requestPath = "mf/moment/moments"
        reqModel.requestPath = (String(kStr_hiddenText.suffix(4)) + "oment" + String(kStr_popData.prefix(6)) + String(kStr_selectPathText))
        //: reqModel.params = params
        reqModel.params = params
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_firstName.afterFailureCompletion(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 点赞
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_MomentLike(params: [String: Any], completion: @escaping FinishBlock) {
    class func enjoyBind(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = SizeRequestModel()
        //: reqModel.requestPath = "mf/moment/like"
        reqModel.requestPath = (String(kStr_frameName) + String(kStr_touchName))
        //: reqModel.params = params
        reqModel.params = params
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_firstName.afterFailureCompletion(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 谁心动我 - 发送心动
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_CrushSend(params: [String: Any], completion: @escaping FinishBlock) {
    class func colorCompletion(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = SizeRequestModel()
        //: reqModel.requestPath = "mf/crush/send"
        reqModel.requestPath = (String(kStr_intimateValue.prefix(4)) + "rush/send")
        //: reqModel.params = params
        reqModel.params = params
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_firstName.afterFailureCompletion(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 动态详情
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_MomentDetail(params: [String: Any], completion: @escaping FinishBlock) {
    class func pan(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = SizeRequestModel()
        //: reqModel.requestPath = "mf/moment/view"
        reqModel.requestPath = (String(kStr_rawData.suffix(5)) + "ment" + String(kStr_toName.suffix(5)))
        //: reqModel.params = params
        reqModel.params = params
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_firstName.afterFailureCompletion(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 动态评论列表
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_CommentList(params: [String: Any], completion: @escaping FinishBlock) {
    class func inmateRunningCompletion(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = SizeRequestModel()
        //: reqModel.requestPath = "mf/momentReply/list"
        reqModel.requestPath = (String(kStr_cameraName.suffix(9)) + String(kStr_fileData.suffix(6)) + "list")
        //: reqModel.params = params
        reqModel.params = params
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_firstName.afterFailureCompletion(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 发表评论、回复
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_SendComment(params: [String: Any], completion: @escaping FinishBlock) {
    class func barCompletion(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = SizeRequestModel()
        //: reqModel.requestPath = "mf/momentReply/save"
        reqModel.requestPath = (String(kStr_iconText.prefix(4)) + "omen" + String(kStr_upContent.prefix(6)) + String(kStr_cellSuccessValue.suffix(5)))
        //: reqModel.params = params
        reqModel.params = params
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_firstName.afterFailureCompletion(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 获取视频上传sign
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_VideoSign(params: [String: Any], completion: @escaping FinishBlock) {
    class func picturePush(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = SizeRequestModel()
        //: reqModel.requestPath = "mf/moment/videoSign"
        reqModel.requestPath = (String(kStr_burnData.suffix(5)) + "ment/vi" + kStr_currentValue.replacingOccurrences(of: "hidden", with: "e") + String(kStr_addValue))
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: reqModel.params = params
        reqModel.params = params
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_firstName.afterFailureCompletion(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 动态发布
    /// - Parameters:
    ///   - photos: 图片
    ///   - content: 内容
    ///   - completion: 回调
    //: func releasePhotosMoment(photos: [UIImage], content: String, completion: @escaping FinishBlock) {
    func culmination(photos: [UIImage], content: String, completion: @escaping FinishBlock) {
        // 处理图片
        //: deleteFile()
        fileMoment()
        //: for (index, photo) in photos.enumerated() {
        for (index, photo) in photos.enumerated() {
            //: getImagePath(index: index, image: photo)
            jostle(index: index, image: photo)
        }
        //: let documentDictPath = NSSearchPathForDirectoriesInDomains(.documentDirectory, .userDomainMask, true).first ?? ""
        let documentDictPath = NSSearchPathForDirectoriesInDomains(.documentDirectory, .userDomainMask, true).first ?? ""
        //: let doc_path = (documentDictPath as NSString).appendingPathComponent("dynamicPic.zip")
        let doc_path = (documentDictPath as NSString).appendingPathComponent((kStr_cameraValue.replacingOccurrences(of: "data", with: "dy") + String(kStr_viewName)))
        //: SSZipArchive.createZipFile(atPath: doc_path, withContentsOfDirectory: filePath)
        SSZipArchive.createZipFile(atPath: doc_path, withContentsOfDirectory: filePath)
        //: DispatchQueue.global().async {
        DispatchQueue.global().async {
            //: let data = NSData(contentsOfFile: doc_path)
            let data = NSData(contentsOfFile: doc_path)
            //: DispatchQueue.main.async {
            DispatchQueue.main.async {
                // 发布
                //: var params: [String: Any] = ["pic": data as Any]
                var params: [String: Any] = [String(bytes: kStr_giftValue.map{$0^172}, encoding: .utf8)!: data as Any]
                //: if content.count > 0 {
                if content.count > 0 {
                    //: params["content"] = content
                    params[(String(kStr_lineSecondName))] = content
                }
                //: let reqModel = TalkingRequestModel()
                let reqModel = SizeRequestModel()
                //: reqModel.requestPath = "mf/moment/save"
                reqModel.requestPath = (String(kStr_tagText) + String(kStr_makeValue.suffix(8)))
                //: reqModel.requestType = .POST
                reqModel.requestType = .POST
                //: reqModel.params = params
                reqModel.params = params
                //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
                kLet_firstName.afterFailureCompletion(model: reqModel) { succeed, result, errorModel in
                    //: if succeed {
                    if succeed {
                        //: self.func__showStatusBarSuccessMsg(showMsg: "Publish Successful, Go to My Dynamics to view".localized)
                        self.property(showMsg: String(bytes: kStr_pushContent.map{$0^106}, encoding: .utf8)!.localized)
                        //: self.deleteFile()
                        self.fileMoment()
                    }
                    //: completion(succeed, result, errorModel)
                    completion(succeed, result, errorModel)
                }
            }
        }
    }

    /// 动态发布
    /// - Parameters:
    ///   - completion: 回调
    //: class func releaseVideoMoment(params: [String: Any], completion: @escaping FinishBlock) {
    class func insert(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = SizeRequestModel()
        //: reqModel.requestPath = "mf/moment/saveVideo"
        reqModel.requestPath = (String(kStr_addTitle.prefix(5)) + "ment/sa" + String(kStr_normalValue))
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: reqModel.params = params
        reqModel.params = params
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_firstName.afterFailureCompletion(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    //: private func getImagePath(index: Int, image: UIImage) {
    private func jostle(index: Int, image: UIImage) {
        //: let data = image.compressedImageData()
        let data = image.goaBean()
        //: let nameString = "\(index).png"
        let nameString = "\(index)" + (String(kStr_frameText))
        //: let picPath = (filePath as NSString).appendingPathComponent("dynamicPic")
        let picPath = (filePath as NSString).appendingPathComponent((kStr_toInfoAttributeName.lowercased() + "micP" + String(kStr_listContent)))
        //: if !_fm.fileExists(atPath: picPath) {
        if !_fm.fileExists(atPath: picPath) {
            //: try? _fm.createDirectory(atPath: picPath, withIntermediateDirectories: true)
            try? _fm.createDirectory(atPath: picPath, withIntermediateDirectories: true)
        }
        //: let imagePath = (picPath as NSString).appendingPathComponent(nameString)
        let imagePath = (picPath as NSString).appendingPathComponent(nameString)
        //: _fm.createFile(atPath: imagePath, contents: data)
        _fm.createFile(atPath: imagePath, contents: data)
    }

    //: private func deleteFile() {
    private func fileMoment() {
        //: if _fm.fileExists(atPath: filePath) {
        if _fm.fileExists(atPath: filePath) {
            //: try? _fm.removeItem(atPath: filePath)
            try? _fm.removeItem(atPath: filePath)
        }
    }

    //: private lazy var filePath: String = {
    private lazy var filePath: String = {
        //: let documentDictPath = NSSearchPathForDirectoriesInDomains(.documentDirectory, .userDomainMask, true).first ?? ""
        let documentDictPath = NSSearchPathForDirectoriesInDomains(.documentDirectory, .userDomainMask, true).first ?? ""
        //: let imagePath = (documentDictPath as NSString).appendingPathComponent("freeImage")
        let imagePath = (documentDictPath as NSString).appendingPathComponent((kStr_directTitle.replacingOccurrences(of: "add", with: "e") + "Imag" + kStr_voiceText.replacingOccurrences(of: "color", with: "e")))
        //: return imagePath
        return imagePath
        //: }()
    }()

    /// 子评论列表
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_CommentDetailList(params: [String: Any], completion: @escaping FinishBlock) {
    class func along(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = SizeRequestModel()
        //: reqModel.requestPath = "mf/momentReply/replylist"
        reqModel.requestPath = (String(kStr_aModelName.prefix(5)) + "mentR" + String(kStr_errorData.prefix(5)) + "repl" + kStr_fromData.lowercased())
        //: reqModel.params = params
        reqModel.params = params
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_firstName.afterFailureCompletion(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 删除动态
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_DeleteMoment(params: [String: Any], completion: @escaping FinishBlock) {
    class func viewSize(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = SizeRequestModel()
        //: reqModel.requestPath = "mf/moment/delete"
        reqModel.requestPath = (String(kStr_data))
        //: reqModel.params = params
        reqModel.params = params
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_firstName.afterFailureCompletion(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 删除评论
    /// - Parameters:
    ///   - completion: 回调
    //: class func req_DeleteMomentReply(params: [String: Any], completion: @escaping FinishBlock) {
    class func contextSearch(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = SizeRequestModel()
        //: reqModel.requestPath = "mf/momentReply/delete"
        reqModel.requestPath = (String(kStr_lineData.suffix(9)) + String(kStr_defineAddHalfValue.prefix(4)) + "y/delete")
        //: reqModel.params = params
        reqModel.params = params
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_firstName.afterFailureCompletion(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 置顶操作
    /// - Parameters:
    /// status=1表示置顶，0=取消置顶
    ///   - completion: 回调
    //: class func req_TopMoment(params: [String: Any], completion: @escaping FinishBlock) {
    class func more(params: [String: Any], completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = SizeRequestModel()
        //: reqModel.requestPath = "mf/moment/pin"
        reqModel.requestPath = (String(kStr_removeValue) + kStr_imageEqualName.replacingOccurrences(of: "view", with: "om") + "nt/pin")
        //: reqModel.params = params
        reqModel.params = params
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_firstName.afterFailureCompletion(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 获取用户未读动态总数
    /// - Parameter completion: 回调
    //: class func req_getRemindNum(completion: @escaping FinishBlock) {
    class func comeBy(completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = SizeRequestModel()
        //: reqModel.requestPath = "mf/moment/remindNum"
        reqModel.requestPath = (String(kStr_waitMakeTitle.suffix(5)) + "ment/" + String(kStr_dataValue.suffix(7)) + String(kStr_modelTextContent))
        //: reqModel.requestType = .GET
        reqModel.requestType = .GET
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_firstName.afterFailureCompletion(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 获取当前未读动态信息列表
    /// - Parameters:
    ///   - page: 分页
    ///   - completion: 回调
    //: class func req_getRemindList(page: Int, completion: @escaping (_ data: [TalkingRemindListModel]) -> Void) {
    class func method(page: Int, completion: @escaping (_ data: [SprechgesangListModel]) -> Void) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = SizeRequestModel()
        //: reqModel.requestPath = "mf/moment/remindList"
        reqModel.requestPath = (String(kStr_nameVideoData.suffix(4)) + "oment/re" + String(kStr_originalData.suffix(8)))
        //: reqModel.requestType = .GET
        reqModel.requestType = .GET
        //: reqModel.params = ["page": page]
        reqModel.params = [String(bytes: kStr_labData.reversed(), encoding: .utf8)!: page]
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_firstName.afterFailureCompletion(model: reqModel) { _, result, _ in
            //: var dataArr: [TalkingRemindListModel] = []
            var dataArr: [SprechgesangListModel] = []
            //: guard let arr = result as? [[String: Any]] else {
            guard let arr = result as? [[String: Any]] else {
                //: completion(dataArr)
                completion(dataArr)
                //: return
                return
            }
            //: if let datas = Array<TalkingRemindListModel>.deserialize(from: arr as? Array) as? [TalkingRemindListModel] {
            if let datas = Array<SprechgesangListModel>.deserialize(from: arr as? Array) as? [SprechgesangListModel] {
                //: dataArr.append(contentsOf: datas)
                dataArr.append(contentsOf: datas)
            }
            //: completion(dataArr)
            completion(dataArr)
        }
    }

    /// COS  视频存储
    /// - Parameters:
    ///   - type: 1=动态，2=视频封面，3=私信视频
    ///   - completion: 回调
    //: class func req_getCredential(type: Int, completion: @escaping FinishBlock) {
    class func create(type: Int, completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = SizeRequestModel()
        //: reqModel.requestPath = "cos/getCredential"
        reqModel.requestPath = (String(kStr_playData) + String(kStr_absName) + kStr_clickText.replacingOccurrences(of: "block", with: "l"))
        //: reqModel.requestType = .GET
        reqModel.requestType = .GET
        //: reqModel.params = ["type": type]
        reqModel.params = [(kStr_backgroundName.replacingOccurrences(of: "file", with: "ty")): type]
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_firstName.afterFailureCompletion(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }

    /// 上传cos日志存储路径
    /// - Parameters:
    ///   - fileUrl: 日志路径
    ///   - completion: 回调
    //: class func req_uploadLogPath(fileUrl: String, completion: @escaping FinishBlock) {
    class func press(fileUrl: String, completion: @escaping FinishBlock) {
        //: let reqModel = TalkingRequestModel()
        let reqModel = SizeRequestModel()
        //: reqModel.requestServer = LocationThen.share.appConfigMode.reportDomain
        reqModel.requestServer = LocationThen.share.appConfigMode.reportDomain
        //: reqModel.requestPath = "user/reportUserInfo"
        reqModel.requestPath = (kStr_modeRawData.replacingOccurrences(of: "screen", with: "us") + "/repo" + String(kStr_equalSucceedValue.prefix(6)) + "Info")
        //: reqModel.requestType = .POST
        reqModel.requestType = .POST
        //: var params = [String: Any]()
        var params = [String: Any]()
        //: params["uid"] = LocationThen.share.loginUserMode.userID
        params[(kStr_actionToErrorName.replacingOccurrences(of: "view", with: "id"))] = LocationThen.share.loginUserMode.userID
        //: params["deviceId"] = Adjust.adid() ?? ""
        params[(String(kStr_atData))] = Adjust.adid() ?? ""
        //: params["deviceName"] = "iphone"
        params[(String(kStr_modeValue.prefix(9)) + String(kStr_toColorTitle))] = (kStr_videoValue.replacingOccurrences(of: "name", with: "e"))
        //: params["type"] = 1
        params[(kStr_backgroundName.replacingOccurrences(of: "file", with: "ty"))] = 1
        //: params["fileUrl"] = fileUrl
        params[(String(kStr_equalContent.suffix(7)))] = fileUrl
        //: reqModel.params = params
        reqModel.params = params
        //: GJ.startRequest(model: reqModel) { succeed, result, errorModel in
        kLet_firstName.afterFailureCompletion(model: reqModel) { succeed, result, errorModel in
            //: completion(succeed, result, errorModel)
            completion(succeed, result, errorModel)
        }
    }
}
